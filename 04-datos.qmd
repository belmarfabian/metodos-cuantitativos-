# Trabajando con datos {#datos}

## Objetivos del cap√≠tulo {.unnumbered}

Al finalizar este cap√≠tulo, ser√°s capaz de:

- Distinguir entre tipos de datos seg√∫n estructura y fuente
- Evaluar calidad de datos y detectar problemas comunes
- Navegar el entorno de R y RStudio
- Importar datos desde m√∫ltiples formatos
- Realizar operaciones b√°sicas de manipulaci√≥n de datos en R
- Exportar resultados para an√°lisis posterior o publicaci√≥n

## Tipos y fuentes de datos

Los datos que usamos en ciencias pol√≠ticas var√≠an en estructura, granularidad y fuente. Entender estas diferencias es crucial para seleccionar estrategias anal√≠ticas apropiadas.

### Seg√∫n estructura

| Tipo | Descripci√≥n | Ejemplo | Ventaja | Limitaci√≥n |
|------|-------------|---------|---------|------------|
| **Corte transversal** | M√∫ltiples unidades, un momento | Encuesta a 1,500 votantes en oct 2024 | Simplicidad anal√≠tica | No observa cambio temporal |
| **Series temporales** | Una unidad, m√∫ltiples momentos | Desempleo mensual Chile 2000-2024 | Captura din√°mica temporal | Una unidad limita generalizaci√≥n |
| **Panel** | M√∫ltiples unidades, m√∫ltiples momentos | 346 comunas en 8 elecciones | Controla efectos fijos | Complejidad anal√≠tica |
| **Jer√°rquico** | Unidades anidadas en niveles | Estudiantes en escuelas en comunas | Modela variaci√≥n multinivel | Requiere t√©cnicas avanzadas |

### Seg√∫n granularidad

| Nivel | Unidad de observaci√≥n | Ejemplos | Caracter√≠stica |
|-------|----------------------|----------|----------------|
| **Micro** | Individuo | Votante, legislador, manifestante | Permite analizar heterogeneidad individual |
| **Meso** | Agregado intermedio | Municipio, distrito, partido | Balance entre detalle y volumen |
| **Macro** | Pa√≠s/regi√≥n | Estados nacionales | Comparaci√≥n internacional, pero N peque√±o |

::: {.callout-warning}
## Cuidado con la falacia ecol√≥gica
@king1997 advierten: inferir comportamiento individual desde patrones agregados puede ser err√≥neo si la composici√≥n de agregados var√≠a.
:::

### Seg√∫n fuente

| Fuente | Descripci√≥n | Ejemplos | Ventaja | Limitaci√≥n |
|--------|-------------|----------|---------|------------|
| **Primarios** | Recolectados por el investigador | Encuestas propias, experimentos | Control total sobre medici√≥n | Costoso en tiempo y recursos |
| **Secundarios** | Recolectados por otros | Censos, encuestas p√∫blicas | Eficiencia, muestras grandes | No dise√±ados para tu pregunta |
| **Administrativos** | Generados por procesos burocr√°ticos | Registros de votantes, datos tributarios | Cobertura completa, alta confiabilidad | Reflejan categor√≠as burocr√°ticas |
| **Digitales** | Generados por actividad en l√≠nea | Tweets, b√∫squedas Google | Volumen masivo, comportamiento real | Representatividad problem√°tica |

### Principales fuentes de datos

Para ciencias sociales en Chile y Am√©rica Latina, las fuentes m√°s utilizadas incluyen:

- **Encuestas**: CEP, CASEN, Latinobar√≥metro, LAPOP
- **Datos electorales**: SERVEL (Chile), International IDEA
- **Datos econ√≥micos**: Banco Mundial, INE, CEPAL
- **Datos de instituciones**: V-Dem, Polity V

::: {.callout-note .callout-avanzado collapse="true"}
## üéì M√©todos Cuantitativos Avanzados

**Cat√°logo completo de fuentes de datos:**

**Encuestas de opini√≥n p√∫blica internacionales:**
- World Values Survey: Actitudes y valores en ~100 pa√≠ses
- Latinobar√≥metro: 18 pa√≠ses latinoamericanos
- AmericasBarometer (LAPOP): Actitudes pol√≠ticas en las Am√©ricas

**Datos sobre instituciones pol√≠ticas:**
- Polity V: Caracter√≠sticas de reg√≠menes pol√≠ticos
- V-Dem: Variedades de democracia, m√∫ltiples dimensiones
- Database of Political Institutions (DPI): Sistemas electorales
- Comparative Constitutions Project: Contenido de constituciones

**Datos legislativos:**
- VoteView: Votaciones nominales del Congreso de EE.UU.
- Manifesto Project: Contenido de manifiestos partidarios
:::

### Calidad de datos

No todos los datos son igualmente √∫tiles. Evaluar calidad es responsabilidad del investigador.

### Dimensiones de calidad

| Dimensi√≥n | Pregunta clave | Ejemplo de problema |
|-----------|----------------|---------------------|
| **Validez** | ¬øMiden lo que pretenden? | Categor√≠as no capturan el concepto te√≥rico |
| **Confiabilidad** | ¬øSon consistentes? | Preguntas cambian entre olas de encuesta |
| **Cobertura** | ¬øQu√© poblaci√≥n representan? | Solo tel√©fonos fijos ‚Üí subrepresenta j√≥venes |
| **Precisi√≥n** | ¬øCu√°n exactas son las mediciones? | Muestras peque√±as ‚Üí m√°rgenes de error grandes |
| **Actualidad** | ¬øCu√°n recientes son? | Datos de 5 a√±os para fen√≥menos que cambian r√°pido |
| **Accesibilidad** | ¬øEst√°n disponibles? | Restricciones legales o pol√≠ticas |

### Problemas comunes

| Problema | Descripci√≥n | Estrategia |
|----------|-------------|------------|
| **Datos faltantes** | Valores ausentes (MCAR, MAR, MNAR) | Eliminaci√≥n listwise, imputaci√≥n |
| **Errores de medici√≥n** | Discrepancias valor real vs registrado | Verificar, corregir sesgos sistem√°ticos |
| **Codificaci√≥n inconsistente** | Misma variable con c√≥digos diferentes (ej: "M/F" vs "1/2") | Estandarizar antes de an√°lisis |
| **Valores at√≠picos** | Observaciones extremas | Investigar antes de eliminar |
| **Duplicados** | Observaciones repetidas | Identificar y eliminar con cuidado |

## Trabajando con R

R es un lenguaje de programaci√≥n estad√≠stica y entorno para an√°lisis de datos. RStudio es un entorno de desarrollo integrado (IDE) que hace m√°s amigable trabajar con R.

### ¬øPor qu√© R?

**Ventajas:**
- **Gratuito y de c√≥digo abierto**: Sin costos de licencia
- **Reproducible**: Scripts documentan exactamente qu√© se hizo
- **Extensible**: Miles de paquetes para t√©cnicas especializadas
- **Comunidad activa**: Foros, tutoriales, ayuda abundante
- **Est√°ndar en ciencias sociales cuantitativas**: Facilita colaboraci√≥n y replicaci√≥n

**Desventajas:**
- **Curva de aprendizaje**: Programar requiere pr√°ctica
- **M√∫ltiples formas de hacer lo mismo**: Puede ser confuso para principiantes

### Instalaci√≥n

1. Descargar R: https://cran.r-project.org/
2. Descargar RStudio: https://posit.co/download/rstudio-desktop/
3. Instalar ambos (primero R, luego RStudio)

### Anatom√≠a de RStudio

RStudio tiene cuatro paneles principales:

1. **Editor de scripts** (arriba izquierda): Donde escribes c√≥digo para guardar y ejecutar
2. **Consola** (abajo izquierda): Donde se ejecuta el c√≥digo y aparecen resultados
3. **Environment** (arriba derecha): Muestra objetos en memoria (datasets, variables)
4. **Files/Plots/Packages/Help** (abajo derecha): Navegaci√≥n de archivos, gr√°ficos, ayuda

### Paquetes

R base es poderoso, pero paquetes extienden funcionalidad. Instalaci√≥n (una vez):

```{r eval=FALSE}
install.packages("tidyverse")  # Suite de paquetes para manipulaci√≥n de datos
install.packages("haven")      # Leer archivos SPSS, Stata, SAS
install.packages("readxl")     # Leer archivos Excel
install.packages("foreign")    # Leer m√∫ltiples formatos
```

Cargar paquetes (cada sesi√≥n):

```{r eval=FALSE}
library(tidyverse)
library(haven)
```

### Objetos b√°sicos en R

**Vectores**: Secuencias de elementos del mismo tipo

```{r}
edades <- c(23, 45, 67, 34, 29)
partidos <- c("PS", "UDI", "RN", "PC", "PPD")
```

**Data frames**: Tablas con filas (observaciones) y columnas (variables)

```{r}
datos <- data.frame(
  id = 1:5,
  edad = c(23, 45, 67, 34, 29),
  partido = c("PS", "UDI", "RN", "PC", "PPD"),
  voto = c("Apruebo", "Rechazo", "Rechazo", "Apruebo", "Apruebo")
)
```

**Funciones**: Operaciones que transforman inputs en outputs

```{r}
mean(edades)        # Promedio
sd(edades)          # Desviaci√≥n est√°ndar
table(datos$voto)   # Tabla de frecuencias
```

### Directorios de trabajo

R busca y guarda archivos en el "directorio de trabajo". Verificar:

```{r eval=FALSE}
getwd()  # ¬øD√≥nde estoy?
```

Cambiar (ajustar ruta seg√∫n tu computador):

```{r eval=FALSE}
setwd("~/Documentos/Investigacion/datos")
```

Mejor pr√°ctica: usar **proyectos de RStudio** (`.Rproj`). Esto establece autom√°ticamente el directorio de trabajo en la carpeta del proyecto.

### Importar datos

Los datos pueden venir en m√∫ltiples formatos. R puede leer la mayor√≠a.

### Archivos de texto: CSV

Los archivos CSV (comma-separated values) son universales. Formato simple:

```
id,edad,partido
1,23,PS
2,45,UDI
3,67,RN
```

Importar con R base:

```{r eval=FALSE}
datos <- read.csv("encuesta.csv")
```

Importar con `readr` (parte de tidyverse, m√°s r√°pido):

```{r eval=FALSE}
library(readr)
datos <- read_csv("encuesta.csv")
```

**Par√°metros comunes:**
- `sep`: Separador (`,` por defecto, `;` en algunos pa√≠ses)
- `header`: ¬øPrimera fila son nombres de variables? (TRUE por defecto)
- `na.strings`: C√≥mo se codifican valores faltantes ("NA", ".", "")

Ejemplo:

```{r eval=FALSE}
datos <- read_csv("encuesta.csv", 
                  na = c("", "NA", "No sabe"),
                  col_types = cols(edad = col_integer(),
                                   partido = col_character()))
```

### Archivos de Excel

Excel es ubicuo en administraci√≥n p√∫blica. Paquete `readxl`:

```{r eval=FALSE}
library(readxl)
datos <- read_excel("resultados_electorales.xlsx", 
                    sheet = "Presidenciales_2021")
```

Especificar rango:

```{r eval=FALSE}
datos <- read_excel("archivo.xlsx", 
                    sheet = 2, 
                    range = "A1:F100")
```

### Archivos de software estad√≠stico

**Stata (.dta):**

```{r eval=FALSE}
library(haven)
datos <- read_dta("encuesta_casen.dta")
```

**SPSS (.sav):**

```{r eval=FALSE}
datos <- read_sav("estudio_cep.sav")
```

**SAS:**

```{r eval=FALSE}
datos <- read_sas("datos.sas7bdat")
```

El paquete `haven` preserva etiquetas de valores, muy com√∫n en encuestas. Ejemplo:

```{r eval=FALSE}
datos <- read_dta("encuesta.dta")
# Variable "educ" tiene valores 1,2,3 con etiquetas "Primaria","Secundaria","Universitaria"
attributes(datos$educ)$labels
```

::: {.callout-note .callout-avanzado collapse="true"}
## üéì M√©todos Cuantitativos Avanzados

### Datos en l√≠nea y bases de datos

Muchos datos est√°n en URLs. Importar directamente:

```{r eval=FALSE}
url <- "https://ejemplo.com/datos.csv"
datos <- read_csv(url)
```

Para datos de APIs, usar paquetes especializados: `WDI` (Banco Mundial), `quantmod` (datos financieros).

Para bases SQL, usar `DBI`:

```{r eval=FALSE}
library(DBI)
con <- dbConnect(RSQLite::SQLite(), "mi_base.db")
datos <- dbGetQuery(con, "SELECT * FROM votaciones WHERE year = 2021")
dbDisconnect(con)
```
:::

## Manipulaci√≥n de datos

Una vez importados, los datos rara vez est√°n listos para an√°lisis. Necesitan limpieza y transformaci√≥n.

### Inspeccionar datos

Primeros y √∫ltimos casos:

```{r eval=FALSE}
head(datos)       # Primeros 6 casos
tail(datos, 10)   # √öltimos 10 casos
```

Estructura:

```{r eval=FALSE}
str(datos)        # Tipo de cada variable
summary(datos)    # Resumen estad√≠stico
glimpse(datos)    # Vista compacta (tidyverse)
```

Nombres de variables:

```{r eval=FALSE}
names(datos)
colnames(datos)
```

Dimensiones:

```{r eval=FALSE}
dim(datos)        # Filas y columnas
nrow(datos)       # N√∫mero de filas
ncol(datos)       # N√∫mero de columnas
```

### Seleccionar variables

R base:

```{r eval=FALSE}
datos_reducido <- datos[, c("id", "edad", "partido")]
```

Tidyverse (`dplyr`):

```{r eval=FALSE}
library(dplyr)
datos_reducido <- select(datos, id, edad, partido)
```

Seleccionar por criterio:

```{r eval=FALSE}
# Todas las variables que empiezan con "voto_"
datos_reducido <- select(datos, starts_with("voto_"))

# Todas las variables num√©ricas
datos_reducido <- select(datos, where(is.numeric))
```

### Filtrar casos

R base:

```{r eval=FALSE}
jovenes <- datos[datos$edad < 30, ]
```

Tidyverse:

```{r eval=FALSE}
jovenes <- filter(datos, edad < 30)
jovenes_izquierda <- filter(datos, edad < 30 & partido %in% c("PS", "PC", "FA"))
```

### Crear y transformar variables

R base:

```{r eval=FALSE}
datos$edad_decadas <- datos$edad / 10
datos$mayor_edad <- ifelse(datos$edad >= 18, "S√≠", "No")
```

Tidyverse:

```{r eval=FALSE}
datos <- mutate(datos, 
                edad_decadas = edad / 10,
                mayor_edad = if_else(edad >= 18, "S√≠", "No"),
                edad_cat = case_when(
                  edad < 30 ~ "Joven",
                  edad < 60 ~ "Adulto",
                  TRUE ~ "Mayor"
                ))
```

### Recodificar variables

Cambiar categor√≠as:

```{r eval=FALSE}
datos <- mutate(datos,
                partido_bloques = case_when(
                  partido %in% c("PS", "PC", "PPD", "FA") ~ "Izquierda",
                  partido %in% c("UDI", "RN", "EVOPOLI") ~ "Derecha",
                  TRUE ~ "Centro/Otros"
                ))
```

### Renombrar variables

R base:

```{r eval=FALSE}
names(datos)[names(datos) == "p1"] <- "confianza_congreso"
```

Tidyverse:

```{r eval=FALSE}
datos <- rename(datos, 
                confianza_congreso = p1,
                confianza_gobierno = p2)
```

### Ordenar datos

Por edad (ascendente):

```{r eval=FALSE}
datos_ordenado <- arrange(datos, edad)
```

Por edad (descendente):

```{r eval=FALSE}
datos_ordenado <- arrange(datos, desc(edad))
```

Por m√∫ltiples variables:

```{r eval=FALSE}
datos_ordenado <- arrange(datos, partido, edad)
```

::: {.callout-note .callout-avanzado collapse="true"}
## üéì M√©todos Cuantitativos Avanzados

### Agregar datos por grupos

Resumir por grupos usando el operador pipe (`%>%`):

```{r eval=FALSE}
library(dplyr)
resumen_partido <- datos %>%
  group_by(partido) %>%
  summarise(
    n = n(),
    edad_promedio = mean(edad, na.rm = TRUE),
    edad_sd = sd(edad, na.rm = TRUE)
  )
```

El operador `%>%` pasa el resultado de una funci√≥n a la siguiente.

### Unir datasets

**Left join**: Mantener todos los casos del dataset izquierdo

```{r eval=FALSE}
datos_completo <- left_join(encuesta, resultados_electorales,
                             by = "comuna_id")
```

**Inner join**: Mantener solo casos presentes en ambos datasets

```{r eval=FALSE}
datos_completo <- inner_join(encuesta, resultados_electorales,
                              by = "comuna_id")
```
:::

## Exportar datos

Despu√©s de limpiar y transformar datos, es √∫til guardarlos.

### CSV

```{r eval=FALSE}
write_csv(datos_limpios, "datos_procesados.csv")
```

### Formato de R

Guardar como `.RDS` (R Data Serialization) preserva estructura completa:

```{r eval=FALSE}
saveRDS(datos_limpios, "datos_procesados.rds")
```

Leer despu√©s:

```{r eval=FALSE}
datos <- readRDS("datos_procesados.rds")
```

### Stata

```{r eval=FALSE}
library(haven)
write_dta(datos_limpios, "datos_procesados.dta")
```

### Excel

```{r eval=FALSE}
library(writexl)
write_xlsx(datos_limpios, "datos_procesados.xlsx")
```

### Flujo reproducible

La reproducibilidad es esencial en ciencia. Otros (y tu yo futuro) deben poder replicar exactamente lo que hiciste.

### Principios

1. **Usa scripts, no clics**: Todo debe estar en c√≥digo. No hacer transformaciones manualmente en Excel que no queden documentadas.
2. **Nunca modifiques datos originales**: Lee los datos crudos, transf√≥rmalos en R, guarda la versi√≥n procesada. Mant√©n los originales intactos.
3. **Documenta tu c√≥digo**: Comentarios explican *por qu√©* hiciste algo:

```{r eval=FALSE}
# Recodifico educaci√≥n en tres categor√≠as para simplificar an√°lisis
# La categor√≠a "t√©cnica" es peque√±a y la combino con "secundaria"
datos <- mutate(datos,
                educ_cat = case_when(
                  educ <= 2 ~ "B√°sica",
                  educ %in% c(3,4) ~ "Media",
                  educ >= 5 ~ "Superior"
                ))
```

4. **Organiza tu proyecto**: Estructura de carpetas clara:

```
proyecto/
  datos/
    crudos/
    procesados/
  scripts/
    01_limpieza.R
    02_analisis.R
  resultados/
    tablas/
    graficos/
  documento/
```

5. **Usa control de versiones**: Git y GitHub permiten rastrear cambios y colaborar. No es obligatorio para principiantes, pero altamente recomendable a medida que proyectos crecen.

::: {.callout-note .callout-avanzado collapse="true"}
## üéì M√©todos Cuantitativos Avanzados

### R Markdown y Quarto

R Markdown y Quarto integran c√≥digo, resultados y texto en un solo documento. Permiten generar reportes reproducibles en HTML, PDF o Word.

Un documento t√≠pico tiene un encabezado YAML (t√≠tulo, autor, formato de salida), secciones en Markdown, y bloques de c√≥digo R que se ejecutan al compilar. Al hacer "Knit" o "Render", R ejecuta el c√≥digo e inserta resultados en el documento final. Si los datos cambian, el documento se actualiza autom√°ticamente.
:::

## Resumen {.unnumbered}

El trabajo con datos requiere entender su estructura, evaluar su calidad, y dominar herramientas para manipularlos. Los datos pueden tener diferentes estructuras (corte transversal, series temporales, panel) y niveles de agregaci√≥n (micro, meso, macro), cada uno con implicaciones anal√≠ticas distintas.

La calidad de los datos determina la calidad de las conclusiones. Antes de analizar, siempre verifica cobertura, valores faltantes, outliers y consistencia en la codificaci√≥n. Un flujo de trabajo reproducible ‚Äîscripts documentados, organizaci√≥n clara, datos originales intactos‚Äî es esencial para investigaci√≥n rigurosa.

| Concepto | Descripci√≥n |
|----------|-------------|
| **Estructuras de datos** | Corte transversal (un momento), series temporales (un caso, varios tiempos), panel (varios casos y tiempos), jer√°rquicos (anidados) |
| **Granularidad** | Micro (individuos), meso (organizaciones), macro (pa√≠ses/regiones) |
| **Fuentes** | Primarios (propios), secundarios (existentes), administrativos (gobierno), digitales (web/redes) |
| **Calidad de datos** | Validez, confiabilidad, cobertura, precisi√≥n, actualidad, accesibilidad |
| **Problemas comunes** | Datos faltantes, errores de medici√≥n, codificaci√≥n inconsistente, outliers, duplicados |

| Operaci√≥n | Funci√≥n en R | Paquete |
|-----------|--------------|---------|
| Importar CSV | `read_csv()` | readr |
| Importar Stata/SPSS | `read_dta()`, `read_sav()` | haven |
| Seleccionar variables | `select()` | dplyr |
| Filtrar casos | `filter()` | dplyr |
| Crear variables | `mutate()` | dplyr |
| Agrupar y resumir | `group_by() %>% summarise()` | dplyr |

**Flujo reproducible:** Usar scripts, documentar c√≥digo, organizaci√≥n clara, nunca modificar datos originales.

## Lecturas recomendadas {.unnumbered}

**Manipulaci√≥n de datos en R:**

Wickham, H., & Grolemund, G. (2017). *R for Data Science*. O'Reilly. [Disponible gratis en https://r4ds.had.co.nz/]  
‚Üí Gu√≠a comprehensiva y accesible sobre tidyverse.

**Reproducibilidad:**

Gandrud, C. (2015). *Reproducible Research with R and RStudio* (2nd ed.). CRC Press.  
‚Üí Pr√°cticas y herramientas para investigaci√≥n reproducible.

**Calidad de datos:**

Karr, A. F., Sanil, A. P., & Banks, D. L. (2006). Data quality: A statistical perspective. *Statistical Methodology*, 3(2), 137-173.  
‚Üí Perspectiva estad√≠stica sobre dimensiones de calidad de datos.

**Datos faltantes:**

Little, R. J., & Rubin, D. B. (2019). *Statistical Analysis with Missing Data* (3rd ed.). Wiley.  
‚Üí Tratado t√©cnico sobre manejo de datos faltantes.

**Recursos en l√≠nea:**

- Documentaci√≥n de tidyverse: https://www.tidyverse.org/
- RStudio cheatsheets: https://posit.co/resources/cheatsheets/
- Stack Overflow (para preguntas espec√≠ficas): https://stackoverflow.com/questions/tagged/r


## Ejercicios {.unnumbered}

::: {.ejercicios}

**1. Evaluaci√≥n de calidad**

Descarga datos del CEP (https://www.cepchile.cl/opinion-publica/encuesta-cep/) o Latinobar√≥metro (https://www.latinobarometro.org/).

a) ¬øQu√© poblaci√≥n representa la muestra?
b) ¬øCu√°l es el tama√±o muestral y margen de error?
c) Identifica tres variables. Para cada una, eval√∫a: ¬øEs v√°lida para medir el concepto que pretende? ¬øQu√© problemas de medici√≥n podr√≠an existir?
d) ¬øQu√© informaci√≥n sobre calidad de datos provee la documentaci√≥n?

**2. Importar y explorar**

Importa un dataset de tu elecci√≥n en R:

```{r eval=FALSE}
# Tu c√≥digo aqu√≠
```

a) ¬øCu√°ntos casos y variables tiene?
b) ¬øQu√© tipos de variables contiene (num√©ricas, categ√≥ricas)?
c) ¬øCu√°ntos valores faltantes hay en cada variable?
d) Identifica y describe un valor at√≠pico

**3. Limpieza de datos**

Con el dataset del ejercicio 2:

a) Selecciona 5-10 variables relevantes para una pregunta de investigaci√≥n que formules
b) Filtra casos para incluir solo observaciones completas (sin valores faltantes en variables clave)
c) Crea al menos dos variables nuevas mediante transformaci√≥n o recodificaci√≥n
d) Genera un resumen estad√≠stico de tus variables

**4. Datos faltantes**

```{r eval=FALSE}
# Crea un dataset con valores faltantes
set.seed(123)
datos <- data.frame(
  id = 1:100,
  edad = sample(18:80, 100, replace = TRUE),
  ingreso = rnorm(100, 500000, 150000)
)
# Introduce valores faltantes no aleatorios:
# Personas mayores de 60 tienen 50% probabilidad de no reportar ingreso
datos$ingreso[datos$edad > 60 & runif(100) < 0.5] <- NA
```

a) ¬øCu√°ntos valores faltantes hay en `ingreso`?
b) Calcula ingreso promedio: (1) eliminando casos con valores faltantes, (2) solo entre quienes reportaron. ¬øDifieren las estimaciones? ¬øPor qu√©?
c) ¬øQu√© tipo de datos faltantes son estos (MCAR, MAR, MNAR)?
d) ¬øC√≥mo afecta esto las inferencias sobre ingreso promedio en la poblaci√≥n?

**5. Combinar datasets**

Tienes dos datasets:

```{r eval=FALSE}
# Resultados electorales por comuna
resultados <- data.frame(
  comuna_id = 1:5,
  comuna = c("Santiago", "Valpara√≠so", "Concepci√≥n", "La Serena", "Temuco"),
  votos_derecha = c(45, 38, 42, 50, 35),
  votos_izquierda = c(40, 48, 43, 35, 50)
)

# Caracter√≠sticas socioecon√≥micas
socioeconomico <- data.frame(
  comuna_id = c(1, 2, 3, 6),
  ingreso_promedio = c(800000, 650000, 700000, 600000),
  desigualdad_gini = c(0.48, 0.45, 0.47, 0.50)
)
```

a) Combina los datasets manteniendo todas las comunas de `resultados`
b) ¬øQu√© problema de datos observas despu√©s de combinar?
c) ¬øC√≥mo manejar√≠as ese problema para an√°lisis posterior?

**6. Proyecto propio**

Identifica un dataset relevante para tu tesis o inter√©s de investigaci√≥n:

a) Descr√≠belo: fuente, estructura (corte transversal/panel/etc), unidad de an√°lisis, N
b) Importa a R y documenta el proceso
c) Realiza una limpieza b√°sica: seleccionar variables relevantes, verificar valores faltantes y outliers, crear variables derivadas si es necesario
d) Genera un reporte en R Markdown que documente: tu pregunta de investigaci√≥n, descripci√≥n de los datos, proceso de limpieza, y estad√≠sticas descriptivas b√°sicas
e) Exporta la versi√≥n limpia de los datos

:::

::: {#refs}
:::
